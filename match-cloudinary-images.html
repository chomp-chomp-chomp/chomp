<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cloudinary Image Matcher - Chomp Chomp</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      background: #f5f5f5;
      padding: 20px;
      color: #353535;
      line-height: 1.6;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
    }

    h1 {
      color: #e73b42;
      margin-bottom: 10px;
      font-weight: 400;
    }

    h2 {
      color: #353535;
      margin-top: 30px;
      margin-bottom: 15px;
      font-size: 1.5em;
      font-weight: 500;
    }

    h3 {
      color: #666;
      margin-top: 20px;
      margin-bottom: 10px;
      font-size: 1.2em;
      font-weight: 500;
    }

    .subtitle {
      color: #666;
      margin-bottom: 30px;
      font-size: 1.1em;
    }

    .instructions {
      background: white;
      padding: 25px;
      border-radius: 8px;
      margin-bottom: 30px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .instructions ol {
      margin-left: 20px;
      margin-top: 10px;
    }

    .instructions li {
      margin: 8px 0;
    }

    .input-section {
      background: white;
      padding: 25px;
      border-radius: 8px;
      margin-bottom: 30px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    textarea {
      width: 100%;
      min-height: 200px;
      padding: 15px;
      border: 2px solid #e0e0e0;
      border-radius: 6px;
      font-family: 'Monaco', 'Courier New', monospace;
      font-size: 13px;
      resize: vertical;
      margin-bottom: 15px;
    }

    textarea:focus {
      outline: none;
      border-color: #e73b42;
    }

    button {
      background: #e73b42;
      color: white;
      border: none;
      padding: 12px 30px;
      border-radius: 6px;
      font-size: 1em;
      cursor: pointer;
      font-weight: 500;
      transition: background 0.2s;
    }

    button:hover {
      background: #d32f36;
    }

    button:disabled {
      background: #ccc;
      cursor: not-allowed;
    }

    .stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-bottom: 30px;
    }

    .stat-card {
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      text-align: center;
    }

    .stat-number {
      font-size: 2.5em;
      font-weight: 600;
      margin-bottom: 5px;
    }

    .stat-number.good {
      color: #28a745;
    }

    .stat-number.warning {
      color: #ffc107;
    }

    .stat-number.danger {
      color: #dc3545;
    }

    .stat-label {
      color: #666;
      font-size: 0.9em;
    }

    .results {
      background: white;
      padding: 25px;
      border-radius: 8px;
      margin-bottom: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .image-list {
      margin-top: 15px;
    }

    .image-item {
      padding: 12px;
      margin: 8px 0;
      border-left: 4px solid #e0e0e0;
      background: #f9f9f9;
      border-radius: 4px;
    }

    .image-item.matched {
      border-left-color: #28a745;
      background: #f0f9f4;
    }

    .image-item.missing {
      border-left-color: #dc3545;
      background: #fff5f5;
    }

    .image-item.critical {
      border-left-color: #e73b42;
      border-left-width: 6px;
    }

    .image-filename {
      font-family: 'Monaco', 'Courier New', monospace;
      font-size: 0.95em;
      font-weight: 600;
      margin-bottom: 5px;
      color: #353535;
    }

    .image-path {
      font-family: 'Monaco', 'Courier New', monospace;
      font-size: 0.85em;
      color: #666;
      margin: 3px 0;
    }

    .image-usage {
      font-size: 0.85em;
      color: #666;
      margin-top: 5px;
    }

    .badge {
      display: inline-block;
      padding: 3px 8px;
      border-radius: 3px;
      font-size: 0.75em;
      font-weight: 600;
      margin-right: 5px;
      margin-top: 5px;
    }

    .badge.critical {
      background: #e73b42;
      color: white;
    }

    .badge.high {
      background: #ffc107;
      color: #333;
    }

    .badge.medium {
      background: #17a2b8;
      color: white;
    }

    .badge.low {
      background: #6c757d;
      color: white;
    }

    .badge.matched {
      background: #28a745;
      color: white;
    }

    .badge.missing {
      background: #dc3545;
      color: white;
    }

    .progress-bar {
      width: 100%;
      height: 30px;
      background: #e0e0e0;
      border-radius: 15px;
      overflow: hidden;
      margin: 20px 0;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #28a745, #5cb85c);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 600;
      font-size: 0.9em;
      transition: width 0.5s ease;
    }

    #results {
      display: none;
    }

    .example {
      background: #f9f9f9;
      padding: 10px;
      border-radius: 4px;
      font-family: 'Monaco', 'Courier New', monospace;
      font-size: 0.85em;
      margin: 10px 0;
      color: #666;
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }

    .count-badge {
      background: #e73b42;
      color: white;
      padding: 5px 12px;
      border-radius: 20px;
      font-size: 0.9em;
      font-weight: 600;
    }

    @media (max-width: 768px) {
      .stats {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üîç Cloudinary Image Matcher</h1>
    <p class="subtitle">Match your Cloudinary images against the complete site inventory</p>

    <div class="instructions">
      <h3>How to Use This Tool</h3>
      <ol>
        <li><strong>Upload your images to Cloudinary</strong> (or any hosting service)</li>
        <li><strong>Get a list of filenames</strong> - Just the filenames, not full URLs</li>
        <li><strong>Paste them below</strong> - One filename per line, or comma-separated</li>
        <li><strong>Click "Match Images"</strong> - The tool will compare against all 65 site images</li>
        <li><strong>Review results</strong> - See what you have, what's missing, and priorities</li>
      </ol>

      <div class="example">
        Example input:<br>
        1764704134358_IMG_3432.png<br>
        1764704133716_IMG_3433.jpeg<br>
        chomp recipes logo.JPG<br>
        Ube Br√ªl√©e-compressed.jpeg
      </div>
    </div>

    <div class="input-section">
      <h3>Paste Your Cloudinary Filenames Here</h3>
      <textarea id="fileInput" placeholder="Paste your filenames here...
One per line, or comma-separated.
The tool will automatically clean and match them.

Example:
1764704134358_IMG_3432.png
1764704133716_IMG_3433.jpeg
chomp recipes logo.JPG"></textarea>
      <button onclick="matchImages()">Match Images</button>
      <button onclick="clearResults()" style="background: #6c757d; margin-left: 10px;">Clear</button>
    </div>

    <div id="results">
      <div class="stats" id="stats"></div>

      <div class="progress-bar">
        <div class="progress-fill" id="progressBar">0%</div>
      </div>

      <div class="results">
        <div class="section-header">
          <h2>‚úÖ Matched Images</h2>
          <span class="count-badge" id="matchedCount">0</span>
        </div>
        <div id="matchedImages" class="image-list"></div>
      </div>

      <div class="results">
        <div class="section-header">
          <h2>‚ùå Missing Images</h2>
          <span class="count-badge" id="missingCount">0</span>
        </div>
        <div id="missingImages" class="image-list"></div>
      </div>

      <div class="results">
        <h2>üìä Detailed Breakdown</h2>
        <div id="breakdown"></div>
      </div>
    </div>
  </div>

  <script>
    // Complete image inventory database
    const imageInventory = [
      // CRITICAL - Site-wide images (used on all pages)
      {
        filename: "1764704134358_IMG_3432.png",
        path: "posts/images/1764704134358_IMG_3432.png",
        purpose: "Main logo (default state)",
        pages: ["All pages - header navigation"],
        priority: "CRITICAL"
      },
      {
        filename: "1764704133716_IMG_3433.jpeg",
        path: "posts/images/1764704133716_IMG_3433.jpeg",
        purpose: "Logo hover state",
        pages: ["All pages - header navigation"],
        priority: "CRITICAL"
      },
      {
        filename: "1764781386634_chomp recipes logo.JPG",
        path: "posts/images/1764781386634_chomp recipes logo.JPG",
        purpose: "Chomp Chomp Recipes banner",
        pages: ["All pages - header center"],
        priority: "CRITICAL"
      },

      // Social Media Images
      {
        filename: "1764743197557_IMG_3460.jpeg",
        path: "posts/images/1764743197557_IMG_3460.jpeg",
        purpose: "Open Graph / social media preview",
        pages: ["index.html", "stories.html", "post.html", "recipe.html", "about.html"],
        priority: "HIGH"
      },
      {
        filename: "chomp_recipes.png",
        path: "recipes/chomp_recipes.png",
        purpose: "OG image for recipe pages",
        pages: ["recipes.html", "about.html"],
        priority: "HIGH"
      },

      // Store Images
      {
        filename: "Chomp Chomp store logo-compressed.jpeg",
        path: "recipe-images/Chomp Chomp store logo-compressed.jpeg",
        purpose: "Store social media image",
        pages: ["store.html"],
        priority: "HIGH"
      },
      {
        filename: "chomp store dark.PNG",
        path: "recipe-images/chomp store dark.PNG",
        purpose: "Store banner (dark mode)",
        pages: ["store.html"],
        priority: "HIGH"
      },
      {
        filename: "chomp store light.PNG",
        path: "recipe-images/chomp store light.PNG",
        purpose: "Store banner (light mode)",
        pages: ["store.html"],
        priority: "HIGH"
      },
      {
        filename: "IMG_3837.jpeg",
        path: "recipe-images/IMG_3837.jpeg",
        purpose: "Order link image (dark mode)",
        pages: ["store.html"],
        priority: "HIGH"
      },
      {
        filename: "IMG_3836.jpeg",
        path: "recipe-images/IMG_3836.jpeg",
        purpose: "Order link image (light mode)",
        pages: ["store.html"],
        priority: "HIGH"
      },

      // Store Product Images
      {
        filename: "B√©b√©'s Breath Mints-compressed.jpeg",
        path: "recipe-images/B√©b√©'s Breath Mints-compressed.jpeg",
        purpose: "Cookie product image",
        pages: ["store.html"],
        priority: "HIGH"
      },
      {
        filename: "Blackstrap Five-Spice-compressed.jpeg",
        path: "recipe-images/Blackstrap Five-Spice-compressed.jpeg",
        purpose: "Cookie product image",
        pages: ["store.html"],
        priority: "HIGH"
      },
      {
        filename: "Bonzer's Bones-compressed.jpeg",
        path: "recipe-images/Bonzer's Bones-compressed.jpeg",
        purpose: "Cookie product image",
        pages: ["store.html"],
        priority: "HIGH"
      },
      {
        filename: "Caff√® & Rose-compressed.jpeg",
        path: "recipe-images/Caff√® & Rose-compressed.jpeg",
        purpose: "Cookie product image",
        pages: ["store.html"],
        priority: "HIGH"
      },
      {
        filename: "Cardamom Espresso-compressed.jpeg",
        path: "recipe-images/Cardamom Espresso-compressed.jpeg",
        purpose: "Cookie product image",
        pages: ["store.html"],
        priority: "HIGH"
      },
      {
        filename: "Cobanero Chocolate-compressed.jpeg",
        path: "recipe-images/Cobanero Chocolate-compressed.jpeg",
        purpose: "Cookie product image",
        pages: ["store.html"],
        priority: "HIGH"
      },
      {
        filename: "Jordie's Chomp Chomps-compressed.jpeg",
        path: "recipe-images/Jordie's Chomp Chomps-compressed.jpeg",
        purpose: "Cookie product image",
        pages: ["store.html"],
        priority: "HIGH"
      },
      {
        filename: "Linus's Lite Bites-compressed.jpeg",
        path: "recipe-images/Linus's Lite Bites-compressed.jpeg",
        purpose: "Cookie product image",
        pages: ["store.html"],
        priority: "HIGH"
      },
      {
        filename: "Matcha Amaretti-compressed.jpeg",
        path: "recipe-images/Matcha Amaretti-compressed.jpeg",
        purpose: "Cookie product image",
        pages: ["store.html"],
        priority: "HIGH"
      },
      {
        filename: "Ube Br√ªl√©e-compressed.jpeg",
        path: "recipe-images/Ube Br√ªl√©e-compressed.jpeg",
        purpose: "Cookie product image",
        pages: ["store.html"],
        priority: "HIGH"
      },
      {
        filename: "IMG_3846.jpeg",
        path: "recipe-images/IMG_3846.jpeg",
        purpose: "Store product image",
        pages: ["store.html"],
        priority: "HIGH"
      },
      {
        filename: "IMG_3847.jpeg",
        path: "recipe-images/IMG_3847.jpeg",
        purpose: "Store product image",
        pages: ["store.html"],
        priority: "HIGH"
      },
      {
        filename: "IMG_3848.jpeg",
        path: "recipe-images/IMG_3848.jpeg",
        purpose: "Store product image",
        pages: ["store.html"],
        priority: "HIGH"
      },
      {
        filename: "IMG_3849.jpeg",
        path: "recipe-images/IMG_3849.jpeg",
        purpose: "Store product image",
        pages: ["store.html"],
        priority: "HIGH"
      },

      // Lexicon Images
      {
        filename: "Blind baking.jpg",
        path: "posts/Blind baking.jpg",
        purpose: "Lexicon term: Blind baking",
        pages: ["lexicon.html"],
        priority: "MEDIUM"
      },
      {
        filename: "Blooming.jpg",
        path: "posts/Blooming.jpg",
        purpose: "Lexicon term: Blooming",
        pages: ["lexicon.html"],
        priority: "MEDIUM"
      },
      {
        filename: "Contradiction.JPG",
        path: "posts/Contradiction.JPG",
        purpose: "Lexicon term: Contradiction",
        pages: ["lexicon.html"],
        priority: "MEDIUM"
      },
      {
        filename: "Crumb coat.jpg",
        path: "posts/Crumb coat.jpg",
        purpose: "Lexicon term: Crumb coat",
        pages: ["lexicon.html"],
        priority: "MEDIUM"
      },
      {
        filename: "Egg wash.jpg",
        path: "posts/Egg wash.jpg",
        purpose: "Lexicon term: Egg wash",
        pages: ["lexicon.html"],
        priority: "MEDIUM"
      },
      {
        filename: "Emulsifier.jpg",
        path: "posts/Emulsifier.jpg",
        purpose: "Lexicon term: Emulsifier",
        pages: ["lexicon.html"],
        priority: "MEDIUM"
      },
      {
        filename: "Fetish.JPG",
        path: "posts/Fetish.JPG",
        purpose: "Lexicon term: Fetish",
        pages: ["lexicon.html"],
        priority: "MEDIUM"
      },
      {
        filename: "Materiality.JPG",
        path: "posts/Materiality.JPG",
        purpose: "Lexicon term: Materiality",
        pages: ["lexicon.html"],
        priority: "MEDIUM"
      },
      {
        filename: "Proofing.jpg",
        path: "posts/Proofing.jpg",
        purpose: "Lexicon term: Proofing",
        pages: ["lexicon.html"],
        priority: "MEDIUM"
      },
      {
        filename: "Repetition.JPG",
        path: "posts/Repetition.JPG",
        purpose: "Lexicon term: Repetition",
        pages: ["lexicon.html"],
        priority: "MEDIUM"
      },
      {
        filename: "Ritual.JPG",
        path: "posts/Ritual.JPG",
        purpose: "Lexicon term: Ritual",
        pages: ["lexicon.html"],
        priority: "MEDIUM"
      },
      {
        filename: "Seeds and nuts.jpg",
        path: "posts/Seeds and nuts.jpg",
        purpose: "Lexicon term: Seeds and nuts",
        pages: ["lexicon.html"],
        priority: "MEDIUM"
      },
      {
        filename: "Temporality.JPG",
        path: "posts/Temporality.JPG",
        purpose: "Lexicon term: Temporality",
        pages: ["lexicon.html"],
        priority: "MEDIUM"
      },
      {
        filename: "Zest.jpg",
        path: "posts/Zest.jpg",
        purpose: "Lexicon term: Zest",
        pages: ["lexicon.html"],
        priority: "MEDIUM"
      },

      // Tools Images
      {
        filename: "Baking - dark.JPG",
        path: "posts/Baking - dark.JPG",
        purpose: "Baking tools page header (dark)",
        pages: ["tools/baking.html"],
        priority: "MEDIUM"
      },
      {
        filename: "Convert - dark.JPG",
        path: "posts/Convert - dark.JPG",
        purpose: "Convert tool page header (dark)",
        pages: ["tools/convert.html"],
        priority: "MEDIUM"
      },
      {
        filename: "Encode - dark.JPG",
        path: "posts/Encode - dark.JPG",
        purpose: "Encode tool page header (dark)",
        pages: ["tools/encode.html"],
        priority: "MEDIUM"
      },
      {
        filename: "Inferno - dark.JPG",
        path: "posts/Inferno - dark.JPG",
        purpose: "Dante's Inferno page header (dark)",
        pages: ["tools/dante.html"],
        priority: "MEDIUM"
      },
      {
        filename: "Nautical - dark.JPG",
        path: "posts/Nautical - dark.JPG",
        purpose: "Nautical tools page header (dark)",
        pages: ["tools/nautical.html"],
        priority: "MEDIUM"
      },
      {
        filename: "Philosophy - dark.JPG",
        path: "posts/Philosophy - dark.JPG",
        purpose: "Philosophy page header (dark)",
        pages: ["tools/philosophy.html"],
        priority: "MEDIUM"
      },
      {
        filename: "Subnet - dark.JPG",
        path: "posts/Subnet - dark.JPG",
        purpose: "Subnet calculator page header (dark)",
        pages: ["tools/subnet.html"],
        priority: "MEDIUM"
      },
      {
        filename: "Weather - dark.JPG",
        path: "posts/Weather - dark.JPG",
        purpose: "Weather tool page header (dark)",
        pages: ["tools/weather.html"],
        priority: "MEDIUM"
      },
      {
        filename: "Weather - light.JPG",
        path: "posts/Weather - light.JPG",
        purpose: "Weather tool page header (light)",
        pages: ["tools/weather.html"],
        priority: "MEDIUM"
      },
      {
        filename: "Whois- dark.JPG",
        path: "posts/Whois- dark.JPG",
        purpose: "Whois/IP tool page header (dark)",
        pages: ["tools/ip.html"],
        priority: "MEDIUM"
      },
      {
        filename: "Tools - dark 1.jpg",
        path: "posts/Tools - dark 1.jpg",
        purpose: "Tools index page header (dark)",
        pages: ["tools/index.html"],
        priority: "MEDIUM"
      },
      {
        filename: "Tools - light 1.jpg",
        path: "posts/Tools - light 1.jpg",
        purpose: "Tools index page header (light)",
        pages: ["tools/index.html"],
        priority: "MEDIUM"
      },
      {
        filename: "1764612872597_tools.png",
        path: "posts/images/1764612872597_tools.png",
        purpose: "Tools icon/thumbnail",
        pages: ["tools/"],
        priority: "MEDIUM"
      },
      {
        filename: "1764687494472_MagicEraser_251202_001040.png",
        path: "posts/images/1764687494472_MagicEraser_251202_001040.png",
        purpose: "Tools-related image",
        pages: ["tools/"],
        priority: "MEDIUM"
      },
      {
        filename: "1764737716530_dante.jpg",
        path: "posts/images/1764737716530_dante.jpg",
        purpose: "Dante's Inferno tool thumbnail",
        pages: ["tools/dante.html"],
        priority: "MEDIUM"
      },
      {
        filename: "1764737717497_nipsum.jpg",
        path: "posts/images/1764737717497_nipsum.jpg",
        purpose: "Tool page thumbnail",
        pages: ["tools/"],
        priority: "MEDIUM"
      },
      {
        filename: "1764737718159_who.jpg",
        path: "posts/images/1764737718159_who.jpg",
        purpose: "Whois tool thumbnail",
        pages: ["tools/ip.html"],
        priority: "MEDIUM"
      },
      {
        filename: "1764737718766_toolspin.jpg",
        path: "posts/images/1764737718766_toolspin.jpg",
        purpose: "Tools page thumbnail",
        pages: ["tools/"],
        priority: "MEDIUM"
      },
      {
        filename: "1764737719378_snet.jpg",
        path: "posts/images/1764737719378_snet.jpg",
        purpose: "Subnet tool thumbnail",
        pages: ["tools/subnet.html"],
        priority: "MEDIUM"
      },
      {
        filename: "1764737720094_code.jpg",
        path: "posts/images/1764737720094_code.jpg",
        purpose: "Code/encode tool thumbnail",
        pages: ["tools/encode.html"],
        priority: "MEDIUM"
      },
      {
        filename: "1764737720669_vert.jpg",
        path: "posts/images/1764737720669_vert.jpg",
        purpose: "Convert tool thumbnail",
        pages: ["tools/convert.html"],
        priority: "MEDIUM"
      },
      {
        filename: "1764743198558_IMG_3461.jpeg",
        path: "posts/images/1764743198558_IMG_3461.jpeg",
        purpose: "Additional tool/post image",
        pages: ["posts/tools/"],
        priority: "MEDIUM"
      },

      // Legacy Images
      {
        filename: "recipes logo.jpeg",
        path: "recipes/recipes logo.jpeg",
        purpose: "Recipes logo (legacy)",
        pages: ["progress1.html", "in_progress.html"],
        priority: "LOW"
      },
      {
        filename: "recipes cookie icon.png",
        path: "recipes/recipes cookie icon.png",
        purpose: "Cookie icon (legacy animations)",
        pages: ["progress1.html", "in_progress.html"],
        priority: "LOW"
      },
      {
        filename: "recipes manifesto icon.png",
        path: "recipes/recipes manifesto icon.png",
        purpose: "Manifesto icon (legacy)",
        pages: ["progress1.html", "in_progress.html"],
        priority: "LOW"
      },
      {
        filename: "chomp_recipes_logo.jpeg",
        path: "recipes/chomp_recipes_logo.jpeg",
        purpose: "Favicon (legacy)",
        pages: ["recipes1.html", "recipegpt.html"],
        priority: "LOW"
      }
    ];

    function normalizeFilename(filename) {
      // Remove paths, decode URI, normalize
      filename = filename.split('/').pop();
      filename = decodeURIComponent(filename);
      filename = filename.trim();
      return filename;
    }

    function fuzzyMatch(input, target) {
      const inputNorm = input.toLowerCase().replace(/[^a-z0-9]/g, '');
      const targetNorm = target.toLowerCase().replace(/[^a-z0-9]/g, '');
      return inputNorm === targetNorm || input.toLowerCase() === target.toLowerCase();
    }

    function matchImages() {
      const input = document.getElementById('fileInput').value;
      if (!input.trim()) {
        alert('Please paste your filenames first!');
        return;
      }

      // Parse input - handle newlines, commas, or mixed
      const inputFiles = input
        .split(/[\n,]+/)
        .map(f => normalizeFilename(f))
        .filter(f => f.length > 0);

      // Match files
      const matched = [];
      const missing = [];

      imageInventory.forEach(img => {
        const found = inputFiles.some(input => fuzzyMatch(input, img.filename));
        if (found) {
          matched.push(img);
        } else {
          missing.push(img);
        }
      });

      // Display results
      displayResults(matched, missing, inputFiles);
    }

    function displayResults(matched, missing, inputFiles) {
      document.getElementById('results').style.display = 'block';

      const totalImages = imageInventory.length;
      const matchedCount = matched.length;
      const missingCount = missing.length;
      const percentage = Math.round((matchedCount / totalImages) * 100);

      // Stats
      const statsHtml = `
        <div class="stat-card">
          <div class="stat-number good">${matchedCount}</div>
          <div class="stat-label">Matched</div>
        </div>
        <div class="stat-card">
          <div class="stat-number danger">${missingCount}</div>
          <div class="stat-label">Missing</div>
        </div>
        <div class="stat-card">
          <div class="stat-number ${percentage >= 80 ? 'good' : percentage >= 50 ? 'warning' : 'danger'}">${percentage}%</div>
          <div class="stat-label">Complete</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">${inputFiles.length}</div>
          <div class="stat-label">Your Files</div>
        </div>
      `;
      document.getElementById('stats').innerHTML = statsHtml;

      // Progress bar
      const progressBar = document.getElementById('progressBar');
      progressBar.style.width = percentage + '%';
      progressBar.textContent = percentage + '% Complete';

      // Matched images
      document.getElementById('matchedCount').textContent = matchedCount;
      const matchedHtml = matched.length > 0
        ? matched.map(img => `
            <div class="image-item matched ${img.priority === 'CRITICAL' ? 'critical' : ''}">
              <div class="image-filename">‚úÖ ${img.filename}</div>
              <div class="image-path">Firebase path: ${img.path}</div>
              <div class="image-usage">
                <strong>Purpose:</strong> ${img.purpose}<br>
                <strong>Used on:</strong> ${img.pages.join(', ')}
              </div>
              <div>
                <span class="badge ${img.priority.toLowerCase()}">${img.priority}</span>
                <span class="badge matched">MATCHED</span>
              </div>
            </div>
          `).join('')
        : '<p style="color: #999;">No matches found. Check your filenames.</p>';
      document.getElementById('matchedImages').innerHTML = matchedHtml;

      // Missing images
      document.getElementById('missingCount').textContent = missingCount;
      const missingHtml = missing.length > 0
        ? missing.map(img => `
            <div class="image-item missing ${img.priority === 'CRITICAL' ? 'critical' : ''}">
              <div class="image-filename">‚ùå ${img.filename}</div>
              <div class="image-path">Firebase path: ${img.path}</div>
              <div class="image-usage">
                <strong>Purpose:</strong> ${img.purpose}<br>
                <strong>Used on:</strong> ${img.pages.join(', ')}
              </div>
              <div>
                <span class="badge ${img.priority.toLowerCase()}">${img.priority}</span>
                <span class="badge missing">MISSING</span>
              </div>
            </div>
          `).join('')
        : '<p style="color: #28a745;">üéâ No missing images! You have everything!</p>';
      document.getElementById('missingImages').innerHTML = missingHtml;

      // Breakdown by priority
      const criticalMissing = missing.filter(img => img.priority === 'CRITICAL');
      const highMissing = missing.filter(img => img.priority === 'HIGH');
      const mediumMissing = missing.filter(img => img.priority === 'MEDIUM');
      const lowMissing = missing.filter(img => img.priority === 'LOW');

      const breakdownHtml = `
        <h3>Missing by Priority</h3>
        <div style="margin: 15px 0;">
          <strong>üî¥ CRITICAL:</strong> ${criticalMissing.length} missing
          ${criticalMissing.length > 0 ? '<div style="color: #dc3545; margin-top: 5px;">‚ö†Ô∏è Site will not function properly without these!</div>' : ''}
        </div>
        <div style="margin: 15px 0;">
          <strong>üü† HIGH:</strong> ${highMissing.length} missing
          ${highMissing.length > 0 ? '<div style="color: #ffc107; margin-top: 5px;">Store and social media will be affected</div>' : ''}
        </div>
        <div style="margin: 15px 0;">
          <strong>üîµ MEDIUM:</strong> ${mediumMissing.length} missing
          ${mediumMissing.length > 0 ? '<div style="color: #17a2b8; margin-top: 5px;">Lexicon and tools pages will be affected</div>' : ''}
        </div>
        <div style="margin: 15px 0;">
          <strong>‚ö™ LOW:</strong> ${lowMissing.length} missing
          ${lowMissing.length > 0 ? '<div style="color: #6c757d; margin-top: 5px;">Legacy pages only</div>' : ''}
        </div>

        <h3 style="margin-top: 25px;">Upload Instructions</h3>
        <p style="color: #666; margin-top: 10px;">
          After uploading to Cloudinary, you'll need to update the site to use your Cloudinary URLs.
          The IMAGE-INVENTORY.md file shows exactly where each image is referenced in the code.
        </p>
        <p style="color: #666; margin-top: 10px;">
          <strong>Alternative:</strong> You can also upload directly to Firebase Storage using the admin/image-manager.html tool,
          which will automatically use the correct paths.
        </p>
      `;
      document.getElementById('breakdown').innerHTML = breakdownHtml;

      // Scroll to results
      document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
    }

    function clearResults() {
      document.getElementById('fileInput').value = '';
      document.getElementById('results').style.display = 'none';
    }
  </script>
</body>
</html>
