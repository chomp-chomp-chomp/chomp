<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Easy Cloudinary URL Collector</title>
  <style>
    body {
      font-family: 'Inter', Arial, sans-serif;
      max-width: 1400px;
      margin: 20px auto;
      padding: 20px;
      background: #f5f5f5;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }
    h1 {
      grid-column: 1 / -1;
      color: #e73b42;
      margin-bottom: 10px;
    }
    .subtitle {
      grid-column: 1 / -1;
      color: #666;
      margin-bottom: 20px;
    }
    .panel {
      background: white;
      padding: 25px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .instructions {
      background: #e3f2fd;
      padding: 20px;
      border-radius: 8px;
      border-left: 4px solid #2196f3;
      margin-bottom: 20px;
    }
    .instructions h3 {
      margin-top: 0;
      color: #1976d2;
    }
    .instructions ol {
      margin: 10px 0 0 20px;
      line-height: 1.8;
    }
    .step {
      background: #f9f9f9;
      padding: 15px;
      border-radius: 6px;
      margin: 10px 0;
      border-left: 3px solid #e73b42;
    }
    .step strong {
      color: #e73b42;
    }
    input {
      width: 100%;
      padding: 12px;
      border: 2px solid #e0e0e0;
      border-radius: 6px;
      font-family: 'Monaco', 'Courier New', monospace;
      font-size: 14px;
      margin: 10px 0;
    }
    input:focus {
      outline: none;
      border-color: #e73b42;
    }
    button {
      background: #e73b42;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 6px;
      font-size: 1em;
      cursor: pointer;
      margin: 5px 5px 5px 0;
    }
    button:hover {
      background: #d32f36;
    }
    button.secondary {
      background: #6c757d;
    }
    button.success {
      background: #28a745;
    }
    .collected-list {
      max-height: 400px;
      overflow-y: auto;
      background: #f9f9f9;
      padding: 15px;
      border-radius: 6px;
      border: 1px solid #e0e0e0;
      margin-top: 15px;
    }
    .collected-item {
      padding: 10px;
      margin: 5px 0;
      background: white;
      border-radius: 4px;
      border-left: 3px solid #28a745;
      font-family: 'Monaco', 'Courier New', monospace;
      font-size: 12px;
      word-break: break-all;
    }
    .collected-item .filename {
      font-weight: 600;
      color: #353535;
      margin-bottom: 3px;
    }
    .collected-item .url {
      color: #007bff;
      font-size: 0.9em;
    }
    .stats {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 15px;
      margin: 20px 0;
    }
    .stat-box {
      background: #f9f9f9;
      padding: 15px;
      border-radius: 6px;
      text-align: center;
    }
    .stat-number {
      font-size: 2em;
      font-weight: 600;
      color: #e73b42;
    }
    .stat-label {
      color: #666;
      font-size: 0.9em;
      margin-top: 5px;
    }
    .checklist {
      background: #fff3cd;
      padding: 15px;
      border-radius: 6px;
      margin: 15px 0;
    }
    .checklist h4 {
      margin-top: 0;
      color: #856404;
    }
    .needed-images {
      background: #f8f9fa;
      padding: 15px;
      border-radius: 6px;
      margin-top: 15px;
      max-height: 300px;
      overflow-y: auto;
    }
    .needed-item {
      padding: 8px;
      margin: 5px 0;
      background: white;
      border-radius: 4px;
      border-left: 3px solid #ffc107;
      font-size: 0.9em;
    }
    .needed-item.found {
      border-left-color: #28a745;
      opacity: 0.5;
    }
  </style>
</head>
<body>
  <h1>üì∏ Easy Cloudinary URL Collector</h1>
  <p class="subtitle">Collect URLs from Cloudinary one at a time - I'll track them for you!</p>

  <!-- Left Panel: Instructions -->
  <div class="panel">
    <div class="instructions">
      <h3>üéØ How This Works</h3>
      <ol>
        <li>Open Cloudinary Media Library in another tab/window</li>
        <li>Click on each image to see its details</li>
        <li>Copy the "Secure URL" and paste it below</li>
        <li>I'll collect them all and match them to what your site needs!</li>
      </ol>
    </div>

    <div class="step">
      <strong>Step 1:</strong> Open Cloudinary Media Library<br>
      <a href="https://cloudinary.com/console" target="_blank" style="color: #007bff;">‚Üí Open Cloudinary Console</a><br>
      <small style="color: #666;">Then click "Media Library" in the left sidebar</small>
    </div>

    <div class="step">
      <strong>Step 2:</strong> For each image in your library:<br>
      1. Click on the image<br>
      2. In the right panel, find <strong>"Secure URL"</strong><br>
      3. Click the copy icon or select and copy the URL<br>
      4. Paste it in the box below
    </div>

    <div class="step">
      <strong>Step 3:</strong> Paste the URL here and click "Add"<br>
      <input type="text" id="urlInput" placeholder="Paste Cloudinary URL here (https://res.cloudinary.com/...)">
      <button onclick="addUrl()">‚ûï Add This URL</button>
      <button onclick="clearInput()" class="secondary">Clear</button>
    </div>

    <div class="checklist">
      <h4>‚úÖ Images Still Needed:</h4>
      <div id="neededList" class="needed-images"></div>
    </div>
  </div>

  <!-- Right Panel: Collected URLs -->
  <div class="panel">
    <h2>üìã Collected URLs</h2>

    <div class="stats">
      <div class="stat-box">
        <div class="stat-number" id="collectedCount">0</div>
        <div class="stat-label">Collected</div>
      </div>
      <div class="stat-box">
        <div class="stat-number" id="matchedCount">0</div>
        <div class="stat-label">Matched</div>
      </div>
      <div class="stat-box">
        <div class="stat-number" id="remainingCount">41</div>
        <div class="stat-label">Remaining</div>
      </div>
    </div>

    <button onclick="exportUrls()" class="success">‚úÖ Done - Export All URLs</button>
    <button onclick="clearAll()" class="secondary">Clear All</button>

    <div id="collectedList" class="collected-list"></div>
  </div>

  <script>
    const neededImages = [
      { name: "IMG_3460", search: ["3460", "IMG_3460"], purpose: "Social OG image", priority: "HIGH" },
      { name: "chomp_recipes", search: ["chomp_recipes", "chomp recipes"], purpose: "Recipe OG image", priority: "HIGH" },
      { name: "store_logo", search: ["store logo", "store_logo"], purpose: "Store social", priority: "HIGH" },
      { name: "store_dark", search: ["store dark", "store_dark"], purpose: "Store banner (dark)", priority: "HIGH" },
      { name: "store_light", search: ["store light", "store_light"], purpose: "Store banner (light)", priority: "HIGH" },
      { name: "IMG_3837", search: ["3837", "IMG_3837"], purpose: "Order link (dark)", priority: "HIGH" },
      { name: "IMG_3836", search: ["3836", "IMG_3836"], purpose: "Order link (light)", priority: "HIGH" },
      { name: "Bebe", search: ["bebe", "breath mint"], purpose: "Cookie: B√©b√©'s Breath Mints", priority: "HIGH" },
      { name: "Blackstrap", search: ["blackstrap", "five spice"], purpose: "Cookie: Blackstrap Five-Spice", priority: "HIGH" },
      { name: "Bonzer", search: ["bonzer", "bones"], purpose: "Cookie: Bonzer's Bones", priority: "HIGH" },
      { name: "Caffe", search: ["caffe", "rose"], purpose: "Cookie: Caff√® & Rose", priority: "HIGH" },
      { name: "Cardamom", search: ["cardamom", "espresso"], purpose: "Cookie: Cardamom Espresso", priority: "HIGH" },
      { name: "Cobanero", search: ["cobanero", "chocolate"], purpose: "Cookie: Cobanero Chocolate", priority: "HIGH" },
      { name: "Jordie", search: ["jordie", "chomp chomps"], purpose: "Cookie: Jordie's Chomp Chomps", priority: "HIGH" },
      { name: "Linus", search: ["linus", "lite bites"], purpose: "Cookie: Linus's Lite Bites", priority: "HIGH" },
      { name: "Matcha", search: ["matcha", "amaretti"], purpose: "Cookie: Matcha Amaretti", priority: "HIGH" },
      { name: "Ube", search: ["ube", "brulee"], purpose: "Cookie: Ube Br√ªl√©e", priority: "HIGH" },
      { name: "IMG_3846", search: ["3846"], purpose: "Store product", priority: "HIGH" },
      { name: "IMG_3847", search: ["3847"], purpose: "Store product", priority: "HIGH" },
      { name: "IMG_3848", search: ["3848"], purpose: "Store product", priority: "HIGH" },
      { name: "IMG_3849", search: ["3849"], purpose: "Store product", priority: "HIGH" },
      { name: "Blind_baking", search: ["blind baking", "blind_baking"], purpose: "Lexicon: Blind baking", priority: "MEDIUM" },
      { name: "Blooming", search: ["blooming"], purpose: "Lexicon: Blooming", priority: "MEDIUM" },
      { name: "Contradiction", search: ["contradiction"], purpose: "Lexicon: Contradiction", priority: "MEDIUM" },
      { name: "Crumb_coat", search: ["crumb coat", "crumb_coat"], purpose: "Lexicon: Crumb coat", priority: "MEDIUM" },
      { name: "Egg_wash", search: ["egg wash", "egg_wash"], purpose: "Lexicon: Egg wash", priority: "MEDIUM" },
      { name: "Emulsifier", search: ["emulsifier"], purpose: "Lexicon: Emulsifier", priority: "MEDIUM" },
      { name: "Fetish", search: ["fetish"], purpose: "Lexicon: Fetish", priority: "MEDIUM" },
      { name: "Materiality", search: ["materiality"], purpose: "Lexicon: Materiality", priority: "MEDIUM" },
      { name: "Proofing", search: ["proofing"], purpose: "Lexicon: Proofing", priority: "MEDIUM" },
      { name: "Repetition", search: ["repetition"], purpose: "Lexicon: Repetition", priority: "MEDIUM" },
      { name: "Ritual", search: ["ritual"], purpose: "Lexicon: Ritual", priority: "MEDIUM" },
      { name: "Seeds_nuts", search: ["seeds and nuts", "seeds nuts"], purpose: "Lexicon: Seeds and nuts", priority: "MEDIUM" },
      { name: "Temporality", search: ["temporality"], purpose: "Lexicon: Temporality", priority: "MEDIUM" },
      { name: "Zest", search: ["zest"], purpose: "Lexicon: Zest", priority: "MEDIUM" }
    ];

    let collectedUrls = [];
    let matchedImages = new Set();

    function updateNeededList() {
      const neededList = document.getElementById('neededList');
      neededList.innerHTML = neededImages.map(img => {
        const isFound = matchedImages.has(img.name);
        return `
          <div class="needed-item ${isFound ? 'found' : ''}">
            ${isFound ? '‚úÖ' : '‚è≥'} <strong>${img.name}</strong> - ${img.purpose}
            <div style="font-size: 0.85em; color: #666; margin-top: 3px;">
              Search for: ${img.search.join(', ')}
            </div>
          </div>
        `;
      }).join('');
    }

    function addUrl() {
      const input = document.getElementById('urlInput');
      const url = input.value.trim();

      if (!url) {
        alert('Please paste a URL first!');
        return;
      }

      if (!url.includes('cloudinary.com')) {
        alert('This doesn\'t look like a Cloudinary URL. Make sure it starts with https://res.cloudinary.com/');
        return;
      }

      // Check if already added
      if (collectedUrls.some(item => item.url === url)) {
        alert('This URL has already been added!');
        return;
      }

      // Try to match to needed image
      const urlLower = url.toLowerCase();
      let matched = null;

      for (const img of neededImages) {
        if (img.search.some(term => urlLower.includes(term.toLowerCase()))) {
          matched = img;
          matchedImages.add(img.name);
          break;
        }
      }

      collectedUrls.push({
        url: url,
        matched: matched,
        timestamp: new Date().toISOString()
      });

      updateDisplay();
      input.value = '';
      input.focus();
    }

    function updateDisplay() {
      const collectedList = document.getElementById('collectedList');
      const collectedCount = document.getElementById('collectedCount');
      const matchedCount = document.getElementById('matchedCount');
      const remainingCount = document.getElementById('remainingCount');

      collectedCount.textContent = collectedUrls.length;
      matchedCount.textContent = matchedImages.size;
      remainingCount.textContent = neededImages.length - matchedImages.size;

      collectedList.innerHTML = collectedUrls.map((item, index) => {
        const matchInfo = item.matched
          ? `<div class="filename">‚úÖ ${item.matched.purpose}</div>`
          : `<div class="filename">‚ûï Extra image</div>`;

        return `
          <div class="collected-item">
            ${matchInfo}
            <div class="url">${item.url}</div>
          </div>
        `;
      }).reverse().join('');

      updateNeededList();
    }

    function clearInput() {
      document.getElementById('urlInput').value = '';
    }

    function clearAll() {
      if (confirm('Are you sure you want to clear all collected URLs?')) {
        collectedUrls = [];
        matchedImages.clear();
        updateDisplay();
      }
    }

    function exportUrls() {
      if (collectedUrls.length === 0) {
        alert('No URLs collected yet! Add some URLs first.');
        return;
      }

      let output = `# Cloudinary URLs - Collected: ${collectedUrls.length}, Matched: ${matchedImages.size}\n\n`;

      collectedUrls.forEach(item => {
        if (item.matched) {
          output += `${item.matched.name} - ${item.matched.purpose}\n`;
        }
        output += `${item.url}\n\n`;
      });

      navigator.clipboard.writeText(output).then(() => {
        alert(`‚úÖ Copied ${collectedUrls.length} URLs to clipboard!\n\nSend this to me and I'll update all your files.`);
      }).catch(() => {
        // Fallback: show in popup
        const win = window.open('', '_blank');
        win.document.write('<pre>' + output + '</pre>');
        alert('URLs opened in new window. Copy and send to me!');
      });
    }

    // Initialize
    updateNeededList();
    document.getElementById('urlInput').addEventListener('keypress', (e) => {
      if (e.key === 'Enter') addUrl();
    });
  </script>
</body>
</html>
